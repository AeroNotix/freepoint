

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tabletools &mdash; QtMySQL 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="QtMySQL 0.1 documentation" href="index.html" />
    <link rel="next" title="Main GUI" href="main.html" />
    <link rel="prev" title="Welcome to QtMySQL’s documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="main.html" title="Main GUI"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to QtMySQL’s documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">QtMySQL 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="tabletools">
<h1>Tabletools<a class="headerlink" href="#tabletools" title="Permalink to this headline">¶</a></h1>
<p>Tools for interacting with the database in a much more Pythonic way.</p>
<span class="target" id="module-qtsqlviewer.table_tools.tools"></span><p>Set of tools that will come in handy when dealing with SQL
databases and Qt applications</p>
<dl class="class">
<dt id="qtsqlviewer.table_tools.tools.Database">
<em class="property">class </em><tt class="descclassname">qtsqlviewer.table_tools.tools.</tt><tt class="descname">Database</tt><big>(</big><em>parent=None</em>, <em>host='localhost'</em>, <em>user=None</em>, <em>passwd=None</em>, <em>using_db=None</em>, <em>table=None</em>, <em>port=3306</em><big>)</big><a class="reference internal" href="_modules/qtsqlviewer/table_tools/tools.html#Database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qtsqlviewer.table_tools.tools.Database" title="Permalink to this definition">¶</a></dt>
<dd><p>This class encapsulates all the interactions between the client code
and the database.</p>
<p>This allows us to have multiple instances of databases on each client
and also bind together commonly used functionality.</p>
<p>We also place per-instance variables such as connection details and
recent queries. This allows a much finer API to emerge because we
can keep track of a single database instance rather than having to
know what attributes and methods are to do with a database.</p>
<dl class="method">
<dt id="qtsqlviewer.table_tools.tools.Database.changeTable">
<tt class="descname">changeTable</tt><big>(</big><em>xrow</em>, <em>ycol</em><big>)</big><a class="reference internal" href="_modules/qtsqlviewer/table_tools/tools.html#Database.changeTable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qtsqlviewer.table_tools.tools.Database.changeTable" title="Permalink to this definition">¶</a></dt>
<dd><p>When a cell is edited the data is written back into the database.</p>
<p>This is highly alpha code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>xrow</strong> &#8211; <tt class="xref py py-class docutils literal"><span class="pre">Int</span></tt> which is passed directly from the signal</li>
<li><strong>ycol</strong> &#8211; <tt class="xref py py-class docutils literal"><span class="pre">Int</span></tt> which is passed directly from the signal</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="qtsqlviewer.table_tools.tools.Database.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/qtsqlviewer/table_tools/tools.html#Database.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qtsqlviewer.table_tools.tools.Database.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the database connection</p>
</dd></dl>

<dl class="method">
<dt id="qtsqlviewer.table_tools.tools.Database.connect">
<tt class="descname">connect</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/qtsqlviewer/table_tools/tools.html#Database.connect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qtsqlviewer.table_tools.tools.Database.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the database connection. This needs to be overloaded when
moving to use the client/server model. Currently we&#8217;re connecting
directly to the MySQL database.</p>
<p>We&#8217;re experimentally checking in to the login server to check if
the user details authenticate.</p>
</dd></dl>

<dl class="method">
<dt id="qtsqlviewer.table_tools.tools.Database.get_headings">
<tt class="descname">get_headings</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/qtsqlviewer/table_tools/tools.html#Database.get_headings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qtsqlviewer.table_tools.tools.Database.get_headings" title="Permalink to this definition">¶</a></dt>
<dd><p>We use a get method for this as the API isn&#8217;t stable and having to
change the call sites is a PITA so we just leave the call site with a
method to get and we can change the implementation as we see fit.</p>
</dd></dl>

<dl class="method">
<dt id="qtsqlviewer.table_tools.tools.Database.query">
<tt class="descname">query</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/qtsqlviewer/table_tools/tools.html#Database.query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qtsqlviewer.table_tools.tools.Database.query" title="Permalink to this definition">¶</a></dt>
<dd><p>Queries the database for a select <a href="#id1"><span class="problematic" id="id2">*</span></a>.</p>
<p>Will mutate the self.headings with the headings for the database and
return a list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list of the data returned.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="qtsqlviewer.table_tools.tools.create_action">
<tt class="descclassname">qtsqlviewer.table_tools.tools.</tt><tt class="descname">create_action</tt><big>(</big><em>obj</em>, <em>text</em>, <em>fname=None</em>, <em>slot=None</em>, <em>shortcut=None</em>, <em>tip=None</em>, <em>signal='triggered()'</em><big>)</big><a class="reference internal" href="_modules/qtsqlviewer/table_tools/tools.html#create_action"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qtsqlviewer.table_tools.tools.create_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method to add in buttons to a toolbar</p>
</dd></dl>

<dl class="function">
<dt id="qtsqlviewer.table_tools.tools.table_wrapper">
<tt class="descclassname">qtsqlviewer.table_tools.tools.</tt><tt class="descname">table_wrapper</tt><big>(</big><em>func</em><big>)</big><a class="reference internal" href="_modules/qtsqlviewer/table_tools/tools.html#table_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qtsqlviewer.table_tools.tools.table_wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper function to enable or disable signals.</p>
<dl class="docutils">
<dt>Disables:</dt>
<dd>cellChanged(int, int)
cellDoubleClicked(int, int)
cellEntered(int, int)</dd>
</dl>
<p>During table population we insert rows from the database
programmatically. This causes Qt to fire off signals
associated with the functions we are calling. This in
turn causes the callbacks assigned to those signals to
be fired. This causes a problem when those functions
have side-effects such as writing to a database.</p>
</dd></dl>

<dl class="function">
<dt id="qtsqlviewer.table_tools.tools.to_unicode">
<tt class="descclassname">qtsqlviewer.table_tools.tools.</tt><tt class="descname">to_unicode</tt><big>(</big><em>string</em>, <em>encoding='utf-8'</em><big>)</big><a class="reference internal" href="_modules/qtsqlviewer/table_tools/tools.html#to_unicode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qtsqlviewer.table_tools.tools.to_unicode" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a string in the specified encoding,
default is utf-8</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>string</strong> &#8211; <tt class="xref py py-class docutils literal"><span class="pre">string</span></tt> which needs to be converted</li>
<li><strong>encoding</strong> &#8211; <tt class="xref py py-class docutils literal"><span class="pre">string</span></tt> which is a encoding type.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to QtMySQL&#8217;s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="main.html"
                        title="next chapter">Main GUI</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/tabletools-tools.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="main.html" title="Main GUI"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to QtMySQL’s documentation!"
             >previous</a> |</li>
        <li><a href="index.html">QtMySQL 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Aaron.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>